(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{371:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o="";o=window.location.origin+"/api"},372:function(e,t,n){var o=n(391);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n(15).default)("0b3445e1",o,!0,{})},373:function(e,t,n){var o=n(393);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n(15).default)("2c1936bf",o,!0,{})},374:function(e,t,n){var o=n(395);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n(15).default)("e65f8fce",o,!0,{})},390:function(e,t,n){"use strict";var o=n(372);n.n(o).a},391:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"\n.head-left[data-v-38add052], .head-right[data-v-38add052] {\n  height: 40px;\n}\n.head-left[data-v-38add052] {\n  color: #F5F5F5;\n}\n.menu-icon[data-v-38add052] {\n  margin-left: 15px;\n  margin-top: 1px;\n  cursor: pointer;\n}\n.el-dropdown-link[data-v-38add052] {\n  font-size: 14px;\n  color: #333333;\n}\n.avator[data-v-38add052] {\n  border-radius: 50%;\n  margin-right: 8px;\n}\n",""])},392:function(e,t,n){"use strict";var o=n(373);n.n(o).a},393:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"\n.side-nav[data-v-4ce3ece9] {\n  height: 100%;\n}\n.side-nav .el-menu[data-v-4ce3ece9] {\n    background-color: #333333;\n    height: 100%;\n}\n.side-nav .el-menu .el-menu-item[data-v-4ce3ece9] {\n      background-color: #333333;\n}\n.side-nav .el-menu-vertical-demo[data-v-4ce3ece9]:not(.el-menu--collapse) {\n    width: 200px;\n    /*min-height: 800px;*/\n    height: 100%;\n}\n.side-nav .el-menu--collapse[data-v-4ce3ece9] {\n    height: 100%;\n}\n",""])},394:function(e,t,n){"use strict";var o=n(374);n.n(o).a},395:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"\n.el-header {\n  width: 100%;\n  height: 40px !important;\n  background: #359EE8;\n}\n.page-container {\n  padding: 40px 50px;\n  overflow-x: auto;\n}\n",""])},428:function(e,t,n){"use strict";n.r(t);var o=n(53),s=n(371),a={data:function(){return{lockScreenDialogVisible:!1,closeDialog:!1,menuStatus:!1,readonly:!0,passForm:{},passFormRules:{password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},watch:{},computed:Object(o.b)(["user"]),mounted:function(){this.lockScreenDialogVisible="true"===window.sessionStorage.getItem("lockScreenDialogVisible")},methods:{changeMenuStatus:function(){this.menuStatus=!this.menuStatus,this.$emit("clickMenuIcon",this.menuStatus)},logout:function(){this.$router.replace("/login"),window.sessionStorage.setItem("isLogin","false"),window.sessionStorage.removeItem("token"),this.axios.post("".concat(s.a,"/logout"),{user:this.user.name})},lockScreen:function(){this.lockScreenDialogVisible=!0,window.sessionStorage.setItem("lockScreenDialogVisible","true")},submitPassForm:function(){var n=this;this.$refs.passForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;var t={username:n.user.username,password:n.passForm.password};n.axios.post("".concat(s.a,"/login"),t).then(function(e){1===e.data.success?(n.lockScreenDialogVisible=!1,window.sessionStorage.setItem("lockScreenDialogVisible","false"),n.$refs.passForm.resetFields()):n.$message.error(e.data)})})},removeReadonly:function(){this.readonly=!1},addReadonly:function(){this.readonly=!0}}},i=(n(390),n(19)),l=Object(i.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"head-top"},[n("el-row",{attrs:{type:"flex",justify:"space-between"}},[n("div",{staticClass:"flex align-items-center head-left"},[n("p",[t._v("Vue+elementUI+express")]),t._v(" "),n("i",{staticClass:"iconfont icon-menu menu-icon",on:{click:t.changeMenuStatus}})]),t._v(" "),n("div",{staticClass:"flex align-items-center head-right"},[n("img",{directives:[{name:"avatar",rawName:"v-avatar",value:t.user.name,expression:"user.name"}],staticClass:"avator",attrs:{width:"32"}}),t._v(" "),n("el-dropdown",[n("span",{staticClass:"el-dropdown-link"},[t._v("\n                  "+t._s(t.user.name)),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(e){return t.lockScreen(e)}}},[t._v("锁定屏幕")]),t._v(" "),n("el-dropdown-item",[t._v("账号管理")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(e){return t.logout(e)}}},[t._v("退出")])],1)],1)],1)]),t._v(" "),n("el-dialog",{staticClass:"lock-screen-dialog",attrs:{title:"屏幕已锁定，输入密码解锁",visible:t.lockScreenDialogVisible,width:"400px","close-on-click-modal":t.closeDialog,"close-on-press-escape":t.closeDialog,"show-close":t.closeDialog},on:{"update:visible":function(e){t.lockScreenDialogVisible=e}}},[n("el-form",{ref:"passForm",attrs:{model:t.passForm,rules:t.passFormRules}},[n("el-form-item",{attrs:{label:"密码","label-width":"55px",prop:"password"}},[n("el-input",{attrs:{type:"password",readonly:t.readonly,size:"small"},on:{focus:t.removeReadonly,blur:t.addReadonly},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submitPassForm(e):null}},model:{value:t.passForm.password,callback:function(e){t.$set(t.passForm,"password",e)},expression:"passForm.password"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitPassForm}},[t._v("解锁")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.logout}},[t._v("退出登录")])],1)],1)],1)},[],!1,null,"38add052",null);l.options.__file="headTop.vue";var r=l.exports,c={data:function(){return{}},props:["isCollapse"],methods:{handleOpen:function(e,t){},handleClose:function(e,t){}}},u=(n(392),Object(i.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"side-nav"},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$route.path,collapse:e.isCollapse,"background-color":"#32323A","text-color":"#fff","active-text-color":"#359EE8",router:""},on:{open:e.handleOpen,close:e.handleClose}},[n("el-menu-item",{attrs:{index:"/home"}},[n("i",{staticClass:"iconfont icon-home"}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("home")])]),e._v(" "),n("el-submenu",{attrs:{index:"/tool"}},[n("template",{slot:"title"},[n("i",{staticClass:"iconfont icon-wrench"}),e._v(" "),n("span",[e._v("tools")])]),e._v(" "),n("el-menu-item",{attrs:{index:"/tool/upload"}},[e._v("imageUpload")]),e._v(" "),n("el-menu-item",{attrs:{index:"/tool/markdown2html"}},[e._v("markdown2html")]),e._v(" "),n("el-menu-item",{attrs:{index:"/tool/videoInCanvas"}},[e._v("videoInCanvas")]),e._v(" "),n("el-menu-item",{attrs:{index:"/tool/drag"}},[e._v("easyDrag")]),e._v(" "),n("el-menu-item",{attrs:{index:"/tool/record"}},[e._v("record")]),e._v(" "),n("el-menu-item",{attrs:{index:"/tool/screenRecord"}},[e._v("screenRecord")])],2),e._v(" "),n("el-submenu",{attrs:{index:"/system"}},[n("template",{slot:"title"},[n("i",{staticClass:"iconfont icon-setting"}),e._v(" "),n("span",[e._v("system")])]),e._v(" "),n("el-menu-item",{attrs:{index:"/system/user"}},[e._v("user")]),e._v(" "),n("el-menu-item",{attrs:{index:"/system/log"}},[e._v("log")])],2)],1)],1)},[],!1,null,"4ce3ece9",null));u.options.__file="sideNav.vue";var d={components:{headTop:r,sideNav:u.exports},data:function(){return{isCollapse:!1}},created:function(){this.user()},methods:{clickMenuIcon:function(e){this.isCollapse=e},user:function(){var t=this;this.axios.post("".concat(s.a,"/userInfo"),{id:window.sessionStorage.getItem("userId")}).then(function(e){t.$store.commit("setUser",e.data)}).catch(function(e){console.log(e)})}}},m=(n(394),Object(i.a)(d,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"fill-contain"},[n("el-header",[n("head-top",{on:{clickMenuIcon:e.clickMenuIcon}})],1),e._v(" "),n("el-container",{staticClass:"fill-contain"},[n("side-nav",{attrs:{"is-collapse":e.isCollapse}}),e._v(" "),n("el-main",[n("router-view")],1)],1)],1)},[],!1,null,null,null));m.options.__file="manage.vue";t.default=m.exports}}]);